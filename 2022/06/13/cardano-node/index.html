

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.jpeg">
  <link rel="icon" href="/img/fluid.jpeg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Dino">
  <meta name="keywords" content="ETH,区块链,BTC,比特币,以太坊">
  
    <meta name="description" content="ada在我来看是比较神奇的一个币，市值经常排在第三位也就是btc和eth之后，但是跟以太坊相比可以说没什么生态。 ada的文档和节点的操作流程跟其他链比起来真的是太不人性化了！ 下面是ada节点的搭建流程：最低硬件要求在硬件方面，您应该确保具备以下条件：  10 GB 内存 处理器至少有两个核心 24 GB 硬盘空间 良好的网络连接和每小时约 1 GB 的带宽 公共 IP4 地址 端口3001">
<meta property="og:type" content="article">
<meta property="og:title" content="Cardano(Ada)节点搭建">
<meta property="og:url" content="https://jodragon.github.io/2022/06/13/cardano-node/index.html">
<meta property="og:site_name" content="Dino">
<meta property="og:description" content="ada在我来看是比较神奇的一个币，市值经常排在第三位也就是btc和eth之后，但是跟以太坊相比可以说没什么生态。 ada的文档和节点的操作流程跟其他链比起来真的是太不人性化了！ 下面是ada节点的搭建流程：最低硬件要求在硬件方面，您应该确保具备以下条件：  10 GB 内存 处理器至少有两个核心 24 GB 硬盘空间 良好的网络连接和每小时约 1 GB 的带宽 公共 IP4 地址 端口3001">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-06-13T03:15:18.000Z">
<meta property="article:modified_time" content="2023-04-25T15:01:41.260Z">
<meta property="article:author" content="Dino">
<meta property="article:tag" content="区块链">
<meta property="article:tag" content="ada">
<meta property="article:tag" content="cardano">
<meta property="article:tag" content="节点搭建">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Cardano(Ada)节点搭建 - Dino</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"jodragon.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":false,"default":"python"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Dino</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/wp18.jpeg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Cardano(Ada)节点搭建"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-06-13 11:15" pubdate>
          2022年6月13日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          15k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          125 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Cardano(Ada)节点搭建</h1>
            
            
              <div class="markdown-body">
                
                <p>ada在我来看是比较神奇的一个币，市值经常排在第三位也就是btc和eth之后，但是跟以太坊相比可以说没什么生态。</p>
<p>ada的文档和节点的操作流程跟其他链比起来真的是太不人性化了！</p>
<h5 id="下面是ada节点的搭建流程："><a href="#下面是ada节点的搭建流程：" class="headerlink" title="下面是ada节点的搭建流程："></a>下面是ada节点的搭建流程：</h5><h3 id="最低硬件要求"><a href="#最低硬件要求" class="headerlink" title="最低硬件要求"></a>最低硬件要求</h3><p>在硬件方面，您应该确保具备以下条件：</p>
<ul>
<li>10 GB 内存</li>
<li>处理器至少有两个核心</li>
<li>24 GB 硬盘空间</li>
<li>良好的网络连接和每小时约 1 GB 的带宽</li>
<li>公共 IP4 地址</li>
<li>端口3001</li>
</ul>
<p>请注意，处理器速度不是运行节点的重要因素。</p>
<h3 id="节点搭建"><a href="#节点搭建" class="headerlink" title="节点搭建"></a>节点搭建</h3><p>下载二进制包</p>
<p><a target="_blank" rel="noopener" href="https://github.com/input-output-hk/cardano-node#linux-executable">https://github.com/input-output-hk/cardano-node#linux-executable</a></p>
<p>准备配置文件</p>
<div class="code-wrapper"><pre><code class="hljs awk">cp -p cardano-node ~<span class="hljs-regexp">/.local/</span>bin/
cp -p cardano-cli ~<span class="hljs-regexp">/.local/</span>bin/
cardano-cli --version
cardano-node --version
mkdir -p config
cd config
curl -O -J https:<span class="hljs-regexp">//</span>hydra.iohk.io<span class="hljs-regexp">/build/</span><span class="hljs-number">7370192</span><span class="hljs-regexp">/download/</span><span class="hljs-number">1</span>/mainnet-config.json
curl -O -J https:<span class="hljs-regexp">//</span>hydra.iohk.io<span class="hljs-regexp">/build/</span><span class="hljs-number">7370192</span><span class="hljs-regexp">/download/</span><span class="hljs-number">1</span>/mainnet-byron-genesis.json
curl -O -J https:<span class="hljs-regexp">//</span>hydra.iohk.io<span class="hljs-regexp">/build/</span><span class="hljs-number">7370192</span><span class="hljs-regexp">/download/</span><span class="hljs-number">1</span>/mainnet-shelley-genesis.json
curl -O -J https:<span class="hljs-regexp">//</span>hydra.iohk.io<span class="hljs-regexp">/build/</span><span class="hljs-number">7370192</span><span class="hljs-regexp">/download/</span><span class="hljs-number">1</span>/mainnet-alonzo-genesis.json
curl -O -J https:<span class="hljs-regexp">//</span>hydra.iohk.io<span class="hljs-regexp">/build/</span><span class="hljs-number">7370192</span><span class="hljs-regexp">/download/</span><span class="hljs-number">1</span>/mainnet-topology.json
</code></pre></div>

<p>出块节点要保证只与中继节点连接，通过配置topology.json </p>
<div class="code-wrapper"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>出块节点
&#123;
  <span class="hljs-string">&quot;Producers&quot;</span>: [
    &#123;
      <span class="hljs-string">&quot;addr&quot;</span>: <span class="hljs-string">&quot;&lt;RELAY IP ADDRESS&gt;&quot;</span>,
      <span class="hljs-string">&quot;port&quot;</span>: &lt;PORT&gt;,
      <span class="hljs-string">&quot;valency&quot;</span>: <span class="hljs-number">1</span>
    &#125;
  ]
&#125;</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gherkin">//中继节点
&#123;
  <span class="hljs-string">&quot;Producers&quot;</span>: [
    &#123;
      <span class="hljs-string">&quot;addr&quot;</span>: <span class="hljs-string">&quot;&lt;BLOCK-PRODUCING IP ADDRESS&gt;&quot;</span>,
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-variable">&lt;PORT&gt;</span>,
      <span class="hljs-string">&quot;valency&quot;</span>: 1
    &#125;,
    &#123;
      <span class="hljs-string">&quot;addr&quot;</span>: <span class="hljs-string">&quot;&lt;IP ADDRESS&gt;&quot;</span>,
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-variable">&lt;PORT&gt;</span>,
      <span class="hljs-string">&quot;valency&quot;</span>: 1
    &#125;,
    &#123;
      <span class="hljs-string">&quot;addr&quot;</span>: <span class="hljs-string">&quot;&lt;IP ADDRESS&gt;&quot;</span>,
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-variable">&lt;PORT&gt;</span>,
      <span class="hljs-string">&quot;valency&quot;</span>: 1
    &#125;
  ]
&#125;</code></pre></div>



<p>运行节点</p>
<div class="code-wrapper"><pre><code class="hljs awk">cardano-node run \
   --topology <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/config/m</span>ainnet-topology.json \
   --database-path <span class="hljs-regexp">/data/</span>ada/data \
   --socket-path <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/data/</span>node.socket \
   --host-addr <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span> \
   --port <span class="hljs-number">3001</span> \
   --config <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/config/m</span>ainnet-config.json
<span class="hljs-regexp">//</span>启动生产节点
cardano-node run \
   --topology <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/config/m</span>ainnet-topology.json \
   --database-path <span class="hljs-regexp">/data/</span>ada/data \
   --socket-path <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/data/</span>node.socket \
   --host-addr <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span> \
   --port <span class="hljs-number">3001</span> \
   --config <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/config/m</span>ainnet-config.json
	 --shelley-kes-key <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>kes.skey \
	 --shelley-vrf-key <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>vrf.skey \
	 --shelley-operational-certificate <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>node.cert</code></pre></div>



<p>配置node-socket环境变量</p>
<div class="code-wrapper"><pre><code class="hljs objectivec"><span class="hljs-comment">//.bashrc</span>
<span class="hljs-keyword">export</span> <span class="hljs-built_in">CARDANO_NODE_SOCKET_PATH</span>=<span class="hljs-string">&quot;/data/ada/data/node.socket&quot;</span></code></pre></div>



<p>查看追块信息</p>
<div class="code-wrapper"><pre><code class="hljs brainfuck"><span class="hljs-comment">//</span><span class="hljs-literal">--</span><span class="hljs-comment">mainnet |</span> <span class="hljs-literal">--</span><span class="hljs-comment">testnet</span><span class="hljs-literal">-</span><span class="hljs-comment">magic 1097911063</span>
<span class="hljs-comment">cardano</span><span class="hljs-literal">-</span><span class="hljs-comment">cli query tip</span> <span class="hljs-literal">--</span><span class="hljs-comment">mainnet</span></code></pre></div>



<h4 id="升级步骤"><a href="#升级步骤" class="headerlink" title="升级步骤"></a>升级步骤</h4><p>下载最新二进制包</p>
<p><a target="_blank" rel="noopener" href="https://github.com/input-output-hk/cardano-node#linux-executable">https://github.com/input-output-hk/cardano-node#linux-executable</a></p>
<div class="code-wrapper"><pre><code class="hljs crmsh">停止节点
替换包
cp -p cardano-<span class="hljs-keyword">node</span> <span class="hljs-title">~/.local</span>/bin/
cp -p cardano-cli ~/.local/bin/
检查版本
cardano-cli --<span class="hljs-keyword">version</span>
cardano-<span class="hljs-keyword">node</span> <span class="hljs-title">--version</span>
重启节点</code></pre></div>





<h3 id="注册stake-pool"><a href="#注册stake-pool" class="headerlink" title="注册stake pool"></a>注册stake pool</h3><p>1，生成操作证书<br><a target="_blank" rel="noopener" href="https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/node_keys.md">https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/node_keys.md</a></p>
<p>2，在链上注册stake  addr</p>
<p><a target="_blank" rel="noopener" href="https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/register_key.md">https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/register_key.md</a></p>
<p>3，注册stake pool（包括手续费押金等）</p>
<p><a target="_blank" rel="noopener" href="https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/register_stakepool.md#generate-stake-pool-registration-certificate">https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/register_stakepool.md#generate-stake-pool-registration-certificate</a></p>
<p>成为stake pool成本大概需要501个ada币（500押金和0.4手续费[上边两个注册操作需要手续费]）。</p>
<h5 id="提取奖励"><a href="#提取奖励" class="headerlink" title="提取奖励"></a>提取奖励</h5><p><a target="_blank" rel="noopener" href="https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/withdraw-rewards.md">https://github.com/input-output-hk/cardano-node/blob/master/doc/stake-pool-operations/withdraw-rewards.md</a></p>
<h4 id="交易示例"><a href="#交易示例" class="headerlink" title="交易示例"></a>交易示例</h4><div class="code-wrapper"><pre><code class="hljs stata"><span class="hljs-comment">//获取主网参数</span>
cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> protocol-parameters \
  --mainnet \
  --<span class="hljs-keyword">out</span>-<span class="hljs-keyword">file</span> protocol.json</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs reasonml"><span class="hljs-comment">//查询账户余额</span>
cardano-cli query utxo \
  --address <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">paymentwtihstake</span>.<span class="hljs-params">addr</span>)</span> \
  --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs dsconfig">//<span class="hljs-built_in">--tx-in引用上边查到的utxo</span>
<span class="hljs-string">cardano-cli</span> <span class="hljs-string">transaction</span> <span class="hljs-string">build-raw</span> \
<span class="hljs-built_in">--tx-in</span> <span class="hljs-string">26e11321a1f543f03fb0b6361b8637329f396dcc1f72db4d545240e1255fab2a</span><span class="hljs-comment">#0 \</span>
<span class="hljs-built_in">--tx-out</span> <span class="hljs-string">DdzFFzCqrhtDFWtaaoG2yA6BUGs4jVHEF5FtqXZ9QZZAqkhi8mx25F9VfpPhkfshcn24EPUN3mRD67bwzKTPFBXCVo52uTsJh2woWcjp</span>+<span class="hljs-string">0</span> \
<span class="hljs-built_in">--tx-out</span> $(<span class="hljs-string">cat</span> /<span class="hljs-string">data</span>/<span class="hljs-string">ada</span>/<span class="hljs-string">keys</span>/<span class="hljs-string">paymentwtihstake</span>.<span class="hljs-string">addr</span>)+<span class="hljs-string">0</span> \
<span class="hljs-built_in">--invalid-hereafter</span> <span class="hljs-string">0</span> \
<span class="hljs-built_in">--fee</span> <span class="hljs-string">0</span> \
<span class="hljs-built_in">--out-file</span> <span class="hljs-string">tx</span>.<span class="hljs-string">draft</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata"><span class="hljs-comment">//计算交易费用</span>
cardano-<span class="hljs-keyword">cli</span> transaction calculate-min-fee \
--tx-body-<span class="hljs-keyword">file</span> tx.draft \
--tx-<span class="hljs-keyword">in</span>-<span class="hljs-keyword">count</span> 1 \
--tx-<span class="hljs-keyword">out</span>-<span class="hljs-keyword">count</span> 2 \
--witness-<span class="hljs-keyword">count</span> 1 \
--byron-witness-<span class="hljs-keyword">count</span> 0 \
--mainnet \
--protocol-params-<span class="hljs-keyword">file</span> protocol.json</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs xml">//计算余额
expr <span class="hljs-tag">&lt;<span class="hljs-name">UTXO</span> <span class="hljs-attr">BALANCE</span>&gt;</span> - <span class="hljs-tag">&lt;<span class="hljs-name">AMOUNT</span> <span class="hljs-attr">TO</span> <span class="hljs-attr">SEND</span>&gt;</span> - <span class="hljs-tag">&lt;<span class="hljs-name">TRANSACTION</span> <span class="hljs-attr">FEE</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata"><span class="hljs-comment">//获取slot</span>
cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> tip --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs dsconfig">//<span class="hljs-built_in">--invalid-hereafter</span> 填上条命令获取的<span class="hljs-string">slot</span>加<span class="hljs-string">200</span>
<span class="hljs-string">cardano-cli</span> <span class="hljs-string">transaction</span> <span class="hljs-string">build-raw</span> \
<span class="hljs-built_in">--tx-in</span> <span class="hljs-string">26e11321a1f543f03fb0b6361b8637329f396dcc1f72db4d545240e1255fab2a</span><span class="hljs-comment">#0 \</span>
<span class="hljs-built_in">--tx-out</span> <span class="hljs-string">DdzFFzCqrhtDFWtaaoG2yA6BUGs4jVHEF5FtqXZ9QZZAqkhi8mx25F9VfpPhkfshcn24EPUN3mRD67bwzKTPFBXCVo52uTsJh2woWcjp</span>+<span class="hljs-string">20000000</span> \
<span class="hljs-built_in">--tx-out</span> $(<span class="hljs-string">cat</span> /<span class="hljs-string">data</span>/<span class="hljs-string">ada</span>/<span class="hljs-string">keys</span>/<span class="hljs-string">paymentwtihstake</span>.<span class="hljs-string">addr</span>)+<span class="hljs-string">9822575</span> \
<span class="hljs-built_in">--invalid-hereafter</span> <span class="hljs-string">50841283</span> \
<span class="hljs-built_in">--fee</span> <span class="hljs-string">177425</span> \
<span class="hljs-built_in">--out-file</span> <span class="hljs-string">tx</span>.<span class="hljs-string">raw</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle"><span class="hljs-comment">//签名</span>
cardano-cli transaction sign \
--tx-body-<span class="hljs-keyword">file</span> tx.raw \
--signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>payment.skey \
--mainnet \
--out-<span class="hljs-keyword">file</span> tx.signed</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stylus"><span class="hljs-comment">//广播</span>
cardano-cli transaction submit \
<span class="hljs-attr">--tx-file</span> tx<span class="hljs-selector-class">.signed</span> \
<span class="hljs-attr">--mainnet</span></code></pre></div>

<h3 id="查看kes"><a href="#查看kes" class="headerlink" title="查看kes"></a>查看kes</h3><div class="code-wrapper"><pre><code class="hljs perl">curl http:<span class="hljs-regexp">//l</span>ocalhost:<span class="hljs-number">12798</span>/metrics | <span class="hljs-keyword">grep</span> -si cardano_node_metrics | <span class="hljs-keyword">grep</span> -i KES</code></pre></div>



<h3 id="矿池源数据信息"><a href="#矿池源数据信息" class="headerlink" title="矿池源数据信息"></a>矿池源数据信息</h3><p>{<br>  “name”: “Huobi”,<br>  “description”: “As a world-leading blockchain industry player, Huobi Group was founded in 2013 to make breakthroughs in core blockchain technology and integrate it with other industries.”,<br>  “ticker”: “Huobi”,<br>  “homepage”: “<a target="_blank" rel="noopener" href="https://www.huobi.com/">https://www.huobi.com</a>“<br>  }</p>
<h3 id="查询预计出块信息"><a href="#查询预计出块信息" class="headerlink" title="查询预计出块信息"></a>查询预计出块信息</h3><div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli query leadership-schedule --genesis <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/config/m</span>ainnet-shelley-genesis.json --mainnet --vrf-signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>vrf.skey --current --cold-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>cold.vkey</code></pre></div>



<h3 id="查询权益快照信息"><a href="#查询权益快照信息" class="headerlink" title="查询权益快照信息"></a>查询权益快照信息</h3><div class="code-wrapper"><pre><code class="hljs stata">cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> stake-snapshot --stake-pool-id 2a999d0685a1dbddfae38e754d6380a6398151130a7a2f8065b0705d --main <span class="hljs-keyword">net</span></code></pre></div>



<h3 id="log等级"><a href="#log等级" class="headerlink" title="log等级"></a>log等级</h3><div class="code-wrapper"><pre><code class="hljs pgsql">minSeverity: <span class="hljs-keyword">Debug</span>(<span class="hljs-keyword">Debug</span>, <span class="hljs-keyword">Info</span>, <span class="hljs-keyword">Notice</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">Warning</span> <span class="hljs-keyword">and</span> Error)</code></pre></div>



<h3 id="注册矿池信息"><a href="#注册矿池信息" class="headerlink" title="注册矿池信息"></a>注册矿池信息</h3><div class="code-wrapper"><pre><code class="hljs stata">cardano-<span class="hljs-keyword">cli</span> stake-pool metadata-hash --pool-metadata-<span class="hljs-keyword">file</span> poolMetaData.json</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli stake-pool registration-certificate \
--cold-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>cold.vkey \
--vrf-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>vrf.vkey \
--pool-pledge <span class="hljs-number">0</span> \
--pool-cost <span class="hljs-number">340000000</span> \
--pool-margin <span class="hljs-number">0</span> \
--pool-reward-account-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>reward_stake.vkey \
--pool-owner-stake-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>stake.vkey \
--mainnet \
--pool-relay-ipv4 <span class="hljs-number">47.245</span>.<span class="hljs-number">35.85</span> \
--pool-relay-port <span class="hljs-number">3001</span> \
--metadata-url https:<span class="hljs-comment">//inj.2k7rqfvt5ahuc.hbpcrypto.com/cardano/huobi.json \</span>
--metadata-hash a1c13e4511099ca63f1af6533208c58a1891ea696a27e93e12e93bd76902fbda \
--out-<span class="hljs-keyword">file</span> pool-registration.cert</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli stake-address delegation-certificate \
    --stake-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>stake.vkey \
    --cold-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>cold.vkey \
    --out-<span class="hljs-keyword">file</span> delegation.cert</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs reasonml">cardano-cli query utxo \
    --address <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">paymentwtihstake</span>.<span class="hljs-params">addr</span>)</span> \
    --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stylus">cardano-cli transaction build-raw \
    <span class="hljs-attr">--tx-in</span> <span class="hljs-number">697</span>eddea14e29952ecc65d85870da7d8de7142c598867d147bdb775dadfcd783#<span class="hljs-number">0</span> \
    <span class="hljs-attr">--tx-out</span> $(cat /data/ada/keys/paymentwtihstake.addr)+<span class="hljs-number">0</span> \
    <span class="hljs-attr">--invalid-hereafter</span> <span class="hljs-number">0</span> \
    <span class="hljs-attr">--fee</span> <span class="hljs-number">0</span> \
    <span class="hljs-attr">--out-file</span> tx<span class="hljs-selector-class">.draft</span> \
    <span class="hljs-attr">--certificate-file</span> pool-registration<span class="hljs-selector-class">.cert</span> \
    <span class="hljs-attr">--certificate-file</span> delegation.cert</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata">cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> protocol-parameters \
    --mainnet \
    --<span class="hljs-keyword">out</span>-<span class="hljs-keyword">file</span> protocol.json</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs applescript">cardano-cli <span class="hljs-keyword">transaction</span> calculate-min-fee \
    <span class="hljs-comment">--tx-body-file tx.draft \</span>
    <span class="hljs-comment">--tx-in-count 1 \</span>
    <span class="hljs-comment">--tx-out-count 1 \</span>
    <span class="hljs-comment">--witness-count 3 \</span>
    <span class="hljs-comment">--byron-witness-count 0 \</span>
    <span class="hljs-comment">--mainnet \</span>
    <span class="hljs-comment">--protocol-params-file protocol.json</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gherkin">protocol.json中查找<span class="hljs-string">&quot;poolDeposit&quot;</span>: 500000000
expr <span class="hljs-variable">&lt;UTXO BALANCE&gt;</span> - <span class="hljs-variable">&lt;DEPOSIT&gt;</span> - <span class="hljs-variable">&lt;TRANSACTION FEE&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata">cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> tip --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stylus">cardano-cli transaction build-raw \
    <span class="hljs-attr">--tx-in</span> <span class="hljs-number">697</span>eddea14e29952ecc65d85870da7d8de7142c598867d147bdb775dadfcd783#<span class="hljs-number">0</span> \
    <span class="hljs-attr">--tx-out</span> $(cat /data/ada/keys/paymentwtihstake.addr)+<span class="hljs-number">6470224</span> \
    <span class="hljs-attr">--invalid-hereafter</span> <span class="hljs-number">61608827</span> \
    <span class="hljs-attr">--fee</span> <span class="hljs-number">196917</span> \
    <span class="hljs-attr">--out-file</span> tx<span class="hljs-selector-class">.raw</span> \
    <span class="hljs-attr">--certificate-file</span> pool-registration<span class="hljs-selector-class">.cert</span> \
    <span class="hljs-attr">--certificate-file</span> delegation.cert</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli transaction sign \
    --tx-body-<span class="hljs-keyword">file</span> tx.raw \
    --signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>payment.skey \
    --signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>stake.skey \
    --signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>cold.skey \
    --mainnet \
    --out-<span class="hljs-keyword">file</span> tx.signed</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs applescript">cardano-cli <span class="hljs-keyword">transaction</span> submit \
    <span class="hljs-comment">--tx-file tx.signed \</span>
    <span class="hljs-comment">--mainnet</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli stake-pool id --cold-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>cold.vkey --output-format <span class="hljs-string">&quot;hex&quot;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs perl">cardano-cli query ledger-<span class="hljs-keyword">state</span> --mainnet | <span class="hljs-keyword">grep</span> publicKey | <span class="hljs-keyword">grep</span> <span class="hljs-number">2</span>a999d0685a1dbddfae38e754d6380a6398151130a7a2f8065b0705d</code></pre></div>



<h3 id="把stake地址注册到链上"><a href="#把stake地址注册到链上" class="headerlink" title="把stake地址注册到链上"></a>把stake地址注册到链上</h3><div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli stake-address registration-certificate \
--stake-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>stake.vkey \
--out-<span class="hljs-keyword">file</span> stake.cert</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs reasonml">cardano-cli query utxo \
    --address <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">paymentwtihstake</span>.<span class="hljs-params">addr</span>)</span> \
    --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs applescript">cardano-cli <span class="hljs-keyword">transaction</span> build-raw \
<span class="hljs-comment">--tx-in 1bfe34527736e7b7cc0ad6c95790ee99f4f67650f7d83f64bd494e2369f3129c#1 \</span>
<span class="hljs-comment">--tx-out $(cat /data/ada/keys/paymentwtihstake.addr)+0 \</span>
<span class="hljs-comment">--invalid-hereafter 0 \</span>
<span class="hljs-comment">--fee 0 \</span>
<span class="hljs-comment">--out-file tx.draft \</span>
<span class="hljs-comment">--certificate-file stake.cert</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata">cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> protocol-parameters \
    --mainnet \
    --<span class="hljs-keyword">out</span>-<span class="hljs-keyword">file</span> protocol.json</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs applescript">cardano-cli <span class="hljs-keyword">transaction</span> calculate-min-fee \
<span class="hljs-comment">--tx-body-file tx.draft \</span>
<span class="hljs-comment">--tx-in-count 1 \</span>
<span class="hljs-comment">--tx-out-count 1 \</span>
<span class="hljs-comment">--witness-count 2 \</span>
<span class="hljs-comment">--byron-witness-count 0 \</span>
<span class="hljs-comment">--mainnet \</span>
<span class="hljs-comment">--protocol-params-file protocol.json</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gherkin">protocol.json中查找<span class="hljs-string">&quot;stakeAddressDeposit&quot;</span>: 2000000
expr <span class="hljs-variable">&lt;UTXO BALANCE&gt;</span> - <span class="hljs-variable">&lt;DEPOSIT&gt;</span> - <span class="hljs-variable">&lt;TRANSACTION FEE&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs applescript">cardano-cli <span class="hljs-keyword">transaction</span> build-raw \
<span class="hljs-comment">--tx-in 1bfe34527736e7b7cc0ad6c95790ee99f4f67650f7d83f64bd494e2369f3129c#1 \</span>
<span class="hljs-comment">--tx-out $(cat /data/ada/keys/paymentwtihstake.addr)+7643874 \</span>
<span class="hljs-comment">--invalid-hereafter 51854359 \</span>
<span class="hljs-comment">--fee 178701 \</span>
<span class="hljs-comment">--out-file tx.raw \</span>
<span class="hljs-comment">--certificate-file stake.cert</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli transaction sign \
--tx-body-<span class="hljs-keyword">file</span> tx.raw \
--signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>payment.skey \
--signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>stake.skey \
--mainnet \
--out-<span class="hljs-keyword">file</span> tx.signed</code></pre></div>



<h3 id="生成密钥"><a href="#生成密钥" class="headerlink" title="生成密钥"></a>生成密钥</h3><div class="code-wrapper"><pre><code class="hljs sas">cardano-cli address <span class="hljs-keyword">key</span>-gen \
--verification-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> payment.vkey \
--signing-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> payment.skey</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs sas">cardano-cli stake-address <span class="hljs-keyword">key</span>-gen \
--verification-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> stake.vkey \
--signing-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> stake.skey</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stylus">cardano-cli <span class="hljs-selector-tag">address</span> build \
<span class="hljs-attr">--payment-verification-key-file</span> payment<span class="hljs-selector-class">.vkey</span> \
<span class="hljs-attr">--stake-verification-key-file</span> stake<span class="hljs-selector-class">.vkey</span> \
<span class="hljs-attr">--out-file</span> paymentwithstake<span class="hljs-selector-class">.addr</span> \
<span class="hljs-attr">--mainnet</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stylus">cardano-cli stake-<span class="hljs-selector-tag">address</span> build \
<span class="hljs-attr">--stake-verification-key-file</span> stake<span class="hljs-selector-class">.vkey</span> \
<span class="hljs-attr">--out-file</span> stake<span class="hljs-selector-class">.addr</span> \
<span class="hljs-attr">--mainnet</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs sas">cardano-cli node <span class="hljs-keyword">key</span>-gen \
--cold-verification-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> cold.vkey \
--cold-signing-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> cold.skey \
--operational-certificate-issue-counter-<span class="hljs-keyword">file</span> cold.counter</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs sas">cardano-cli node <span class="hljs-keyword">key</span>-gen-VRF \
--verification-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> vrf.vkey \
--signing-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> vrf.skey</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs sas">cardano-cli node <span class="hljs-keyword">key</span>-gen-KES \
--verification-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> kes.vkey \
--signing-<span class="hljs-keyword">key</span>-<span class="hljs-keyword">file</span> kes.skey</code></pre></div>

<h3 id="生成操作证书"><a href="#生成操作证书" class="headerlink" title="生成操作证书"></a>生成操作证书</h3><div class="code-wrapper"><pre><code class="hljs gradle">cat <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/config/m</span>ainnet-shelley-genesis.json | <span class="hljs-keyword">grep</span> KESPeriod
&gt; <span class="hljs-string">&quot;slotsPerKESPeriod&quot;</span>: <span class="hljs-number">3600</span>,</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata">cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> tip --mainnet
&#123;
    <span class="hljs-string">&quot;epoch&quot;</span>: 259,
    <span class="hljs-string">&quot;hash&quot;</span>: <span class="hljs-string">&quot;dbf5104ab91a7a0b405353ad31760b52b2703098ec17185bdd7ff1800bb61aca&quot;</span>,
    <span class="hljs-string">&quot;slot&quot;</span>: 26633911,
    <span class="hljs-string">&quot;block&quot;</span>: 5580350
&#125;</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs node-repl">expr 26633911 / 3600
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-number">7398</span></span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle"><span class="hljs-comment">//--kes-period 填写上一步计算结果</span>
cardano-cli node issue-op-cert \
--kes-verification-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>kes.vkey \
--cold-signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>cold.skey \
--operational-certificate-issue-counter <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>cold.counter \
--kes-period <span class="hljs-number">514</span> \
--out-<span class="hljs-keyword">file</span> node.cert</code></pre></div>



<h3 id="交易"><a href="#交易" class="headerlink" title="交易"></a>交易</h3><div class="code-wrapper"><pre><code class="hljs stata"><span class="hljs-comment">//获取主网参数</span>
cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> protocol-parameters \
  --mainnet \
  --<span class="hljs-keyword">out</span>-<span class="hljs-keyword">file</span> protocol.json</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs reasonml"><span class="hljs-comment">//查询账户余额</span>
cardano-cli query utxo \
  --address <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">paymentwtihstake</span>.<span class="hljs-params">addr</span>)</span> \
  --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs dsconfig">//<span class="hljs-built_in">--tx-in引用上边查到的utxo</span>
<span class="hljs-string">cardano-cli</span> <span class="hljs-string">transaction</span> <span class="hljs-string">build-raw</span> \
<span class="hljs-built_in">--tx-in</span> <span class="hljs-string">169978a6524bb01408d01b743e9df64d189ee6ba0080f780174b611e88d300af</span><span class="hljs-comment">#1 \</span>
<span class="hljs-built_in">--tx-out</span> <span class="hljs-string">addr1q836p8u4dkgeq9m9l6xeayutlavg3d673t283259rrrktrpqj274ddmph7trcdxp5wj0ucfvga2gtwuuz7q825k6ucesc66u8m</span>+<span class="hljs-string">0</span> \
<span class="hljs-built_in">--tx-out</span> $(<span class="hljs-string">cat</span> /<span class="hljs-string">data</span>/<span class="hljs-string">ada</span>/<span class="hljs-string">keys</span>/<span class="hljs-string">paymentwtihstake</span>.<span class="hljs-string">addr</span>)+<span class="hljs-string">0</span> \
<span class="hljs-built_in">--invalid-hereafter</span> <span class="hljs-string">0</span> \
<span class="hljs-built_in">--fee</span> <span class="hljs-string">0</span> \
<span class="hljs-built_in">--out-file</span> <span class="hljs-string">tx</span>.<span class="hljs-string">draft</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata"><span class="hljs-comment">//计算交易费用</span>
cardano-<span class="hljs-keyword">cli</span> transaction calculate-min-fee \
--tx-body-<span class="hljs-keyword">file</span> tx.draft \
--tx-<span class="hljs-keyword">in</span>-<span class="hljs-keyword">count</span> 1 \
--tx-<span class="hljs-keyword">out</span>-<span class="hljs-keyword">count</span> 2 \
--witness-<span class="hljs-keyword">count</span> 1 \
--byron-witness-<span class="hljs-keyword">count</span> 0 \
--mainnet \
--protocol-params-<span class="hljs-keyword">file</span> protocol.json</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs xml">//计算余额
expr <span class="hljs-tag">&lt;<span class="hljs-name">UTXO</span> <span class="hljs-attr">BALANCE</span>&gt;</span> - <span class="hljs-tag">&lt;<span class="hljs-name">AMOUNT</span> <span class="hljs-attr">TO</span> <span class="hljs-attr">SEND</span>&gt;</span> - <span class="hljs-tag">&lt;<span class="hljs-name">TRANSACTION</span> <span class="hljs-attr">FEE</span>&gt;</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stata"><span class="hljs-comment">//获取slot</span>
cardano-<span class="hljs-keyword">cli</span> <span class="hljs-keyword">query</span> tip --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs dsconfig">//<span class="hljs-built_in">--invalid-hereafter</span> 填上条命令获取的<span class="hljs-string">slot</span>加<span class="hljs-string">200</span>
<span class="hljs-string">cardano-cli</span> <span class="hljs-string">transaction</span> <span class="hljs-string">build-raw</span> \
<span class="hljs-built_in">--tx-in</span> <span class="hljs-string">169978a6524bb01408d01b743e9df64d189ee6ba0080f780174b611e88d300af</span><span class="hljs-comment">#1 \</span>
<span class="hljs-built_in">--tx-out</span> <span class="hljs-string">addr1q836p8u4dkgeq9m9l6xeayutlavg3d673t283259rrrktrpqj274ddmph7trcdxp5wj0ucfvga2gtwuuz7q825k6ucesc66u8m</span>+<span class="hljs-string">440000000</span> \
<span class="hljs-built_in">--tx-out</span> $(<span class="hljs-string">cat</span> /<span class="hljs-string">data</span>/<span class="hljs-string">ada</span>/<span class="hljs-string">keys</span>/<span class="hljs-string">paymentwtihstake</span>.<span class="hljs-string">addr</span>)+<span class="hljs-string">6864058</span> \
<span class="hljs-built_in">--invalid-hereafter</span> <span class="hljs-string">53909058</span> \
<span class="hljs-built_in">--fee</span> <span class="hljs-string">176589</span> \
<span class="hljs-built_in">--out-file</span> <span class="hljs-string">tx</span>.<span class="hljs-string">raw</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle"><span class="hljs-comment">//签名</span>
cardano-cli transaction sign \
--tx-body-<span class="hljs-keyword">file</span> tx.raw \
--signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>payment.skey \
--mainnet \
--out-<span class="hljs-keyword">file</span> tx.signed</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs stylus"><span class="hljs-comment">//广播</span>
cardano-cli transaction submit \
<span class="hljs-attr">--tx-file</span> tx<span class="hljs-selector-class">.signed</span> \
<span class="hljs-attr">--mainnet</span></code></pre></div>



<h3 id="领取收益"><a href="#领取收益" class="headerlink" title="领取收益"></a>领取收益</h3><div class="code-wrapper"><pre><code class="hljs reasonml">cardano-cli query stake-address-info \
&gt; --mainnet \
&gt; --address <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">stake</span>.<span class="hljs-params">addr</span>)</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs reasonml">cardano-cli query utxo \
&gt;     --address <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">paymentwtihstake</span>.<span class="hljs-params">addr</span>)</span> \
&gt;     --mainnet</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs reasonml">cardano-cli transaction build-raw \
--tx-<span class="hljs-keyword">in</span> a18d290b6077602b4e6b1f6ac8466dbf7c9c5d52147c55ed1a7d80810da7e0ee#<span class="hljs-number">0</span> \
--tx-out <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">paymentwtihstake</span>.<span class="hljs-params">addr</span>)</span>+<span class="hljs-number">0</span> \
--withdrawal <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">stake</span>.<span class="hljs-params">addr</span>)</span>+<span class="hljs-number">0</span> \
--invalid-hereafter <span class="hljs-number">0</span> \
--fee <span class="hljs-number">0</span> \
--out-file withdraw_rewards.draft</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs applescript">cardano-cli <span class="hljs-keyword">transaction</span> calculate-min-fee \
<span class="hljs-comment">--tx-body-file withdraw_rewards.draft  \</span>
<span class="hljs-comment">--tx-in-count 1 \</span>
<span class="hljs-comment">--tx-out-count 1 \</span>
<span class="hljs-comment">--witness-count 2 \</span>
<span class="hljs-comment">--byron-witness-count 0 \</span>
<span class="hljs-comment">--mainnet \</span>
<span class="hljs-comment">--protocol-params-file protocol.json</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">expr</span> <span class="hljs-number">194054070</span> - <span class="hljs-number">171089</span> + <span class="hljs-number">550000000</span></code></pre></div>

<div class="code-wrapper"><pre><code class="hljs reasonml">cardano-cli transaction build-raw \
--tx-<span class="hljs-keyword">in</span> a18d290b6077602b4e6b1f6ac8466dbf7c9c5d52147c55ed1a7d80810da7e0ee#<span class="hljs-number">0</span> \
--tx-out <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">paymentwtihstake</span>.<span class="hljs-params">addr</span>)</span>+<span class="hljs-number">454217236</span> \
--withdrawal <span class="hljs-constructor">$(<span class="hljs-params">cat</span> <span class="hljs-operator">/</span><span class="hljs-params">data</span><span class="hljs-operator">/</span><span class="hljs-params">ada</span><span class="hljs-operator">/</span><span class="hljs-params">keys</span><span class="hljs-operator">/</span><span class="hljs-params">stake</span>.<span class="hljs-params">addr</span>)</span>+<span class="hljs-number">447145853</span> \
--invalid-hereafter <span class="hljs-number">53909058</span> \
--fee <span class="hljs-number">178613</span> \
--out-file withdraw_rewards.raw</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs gradle">cardano-cli transaction sign \
--tx-body-<span class="hljs-keyword">file</span> withdraw_rewards.raw  \
--signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>payment.skey \
--signing-key-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/data/</span>ada<span class="hljs-regexp">/keys/</span>stake.skey \
--mainnet \
--out-<span class="hljs-keyword">file</span> withdraw_rewards.signed</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs applescript">cardano-cli <span class="hljs-keyword">transaction</span> submit \
<span class="hljs-comment">--tx-file withdraw_rewards.signed \</span>
<span class="hljs-comment">--mainnet</span></code></pre></div>







<h3 id="中继节点拓扑配置"><a href="#中继节点拓扑配置" class="headerlink" title="中继节点拓扑配置"></a>中继节点拓扑配置</h3><div class="code-wrapper"><pre><code class="hljs json">
<span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;178.128.62.251&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;178.62.4.233&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3001</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;185.244.192.94&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3001</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;207.244.230.71&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3001</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;82.95.66.203&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3001</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;104.248.9.122&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;118.27.31.4&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;87.107.166.86&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3001</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;54.221.127.96&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3001</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;142.93.233.165&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3001</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;50.116.38.76&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;89.40.72.100&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5.89.17.242&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;20.203.153.163&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;66.94.100.70&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;131.153.199.82&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;54.232.189.129&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3.17.19.242&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;134.209.209.178&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3146</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;valency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
  <span class="hljs-punctuation">&#125;</span>

</code></pre></div>



<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>搭建节点还好，但是矿池注册等操作真的是一点不友好。</p>
<h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ul>
<li>官网: <a target="_blank" rel="noopener" href="https://cardano.org/">https://cardano.org/</a></li>
<li>白皮书: <a target="_blank" rel="noopener" href="https://why.cardano.org/zh-cn/introduction/motivation/">https://why.cardano.org/zh-cn/introduction/motivation/</a></li>
<li>文档: <a target="_blank" rel="noopener" href="https://docs.cardano.org/">https://docs.cardano.org/</a> |<a target="_blank" rel="noopener" href="https://developers.cardano.org/docs/get-started/">https://developers.cardano.org/docs/get-started/</a></li>
<li>钱包：<a target="_blank" rel="noopener" href="https://yoroi-wallet.com/#/%EF%BD%9Chttps://adalite.io/">https://yoroi-wallet.com/#/｜https://adalite.io/</a></li>
<li>浏览器: <a target="_blank" rel="noopener" href="https://cardanoscan.io/">https://cardanoscan.io/</a></li>
<li>chrome钱包插件: <a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/yoroi/ffnbelfdoeiohenkjibnmadjiehjhajb">https://chrome.google.com/webstore/detail/yoroi/ffnbelfdoeiohenkjibnmadjiehjhajb</a></li>
<li>github <a target="_blank" rel="noopener" href="https://github.com/input-output-hk/cardano-node">https://github.com/input-output-hk/cardano-node</a></li>
<li>Telegram: <a target="_blank" rel="noopener" href="https://t.me/CardanoDevelopersOfficial"><em>t.me&#x2F;CardanoDevelopers</em></a></li>
<li>博客: <a target="_blank" rel="noopener" href="https://iohk.io/en/blog/posts/page-1/">https://iohk.io/en/blog/posts/page-1/</a></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/" class="category-chain-item">区块链</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a>
      
        <a href="/tags/ada/">#ada</a>
      
        <a href="/tags/cardano/">#cardano</a>
      
        <a href="/tags/%E8%8A%82%E7%82%B9%E6%90%AD%E5%BB%BA/">#节点搭建</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/11/25/eth-node/" title="以太坊节点搭建教程">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">以太坊节点搭建教程</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Jodragon/jodragon.github.io');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
